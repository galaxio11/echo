(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[18],{9578:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/gallery",function(){return t(2345)}])},7197:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var s=t(4848),n=t(6540);function i(e){let{instructions:r,width:t=800,height:i=400}=e,a=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(!a.current||!r)return;let e=a.current.getContext("2d");e.clearRect(0,0,t,i),e.fillStyle=r.background||"#000000",e.fillRect(0,0,t,i),r.elements.forEach(r=>{switch(e.beginPath(),e.strokeStyle=r.color,e.lineWidth=r.stroke_width,r.type){case"circle":let[t,s]=r.points[0],n=r.points[1]?Math.hypot(r.points[1][0]-t,r.points[1][1]-s):50;e.arc(t,s,n,0,2*Math.PI);break;case"line":case"wave":case"spiral":r.points.forEach((r,t)=>{0===t?e.moveTo(r[0],r[1]):e.lineTo(r[0],r[1])})}r.closed&&e.closePath(),e.stroke()})},[r,t,i]),(0,s.jsx)("canvas",{ref:a,width:t,height:i,className:"w-full h-full"})}},2345:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var s=t(4848),n=t(6540),i=t(1106),a=t.n(i),l=t(7667),o=t(464),c=t(7197),d=t(6715),h=t(9314);function x(e){let{message:r,type:t="error",onClose:n}=e;return(0,s.jsxs)(o.P.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-4 right-4 px-4 py-2 rounded-lg font-mono text-sm z-50 flex items-center gap-2 ".concat("error"===t?"bg-red-500/10 border border-red-500/30 text-red-500":"success"===t?"bg-green-500/10 border border-green-500/30 text-green-500":"bg-blue-500/10 border border-blue-500/30 text-blue-500"),children:[(0,s.jsx)("span",{children:r}),(0,s.jsx)("button",{onClick:n,className:"opacity-50 hover:opacity-100 transition-opacity",children:"\xd7"})]})}function m(){let{publicKey:e,connecting:r,connect:t,disconnect:i}=(0,h.v)(),[a,c]=(0,n.useState)(null),d=async()=>{try{await t()}catch(e){c(e.message),setTimeout(()=>c(null),3e3)}},m=async()=>{try{await i()}catch(e){c(e.message),setTimeout(()=>c(null),3e3)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e?m:d,className:"px-4 py-2 border border-green-500/30 text-green-500 hover:bg-green-500/10 transition-colors rounded-full font-mono flex items-center gap-2",disabled:r,children:r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full border-2 border-green-500 border-t-transparent animate-spin"}),"Connecting..."]}):e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500"}),"".concat(e.slice(0,4),"...").concat(e.slice(-4))]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,s.jsx)("path",{d:"M13 9h-2V7h2v2zm0 2h-2v6h2v-6zm-1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})}),"Connect Wallet"]})}),(0,s.jsx)(l.N,{children:a&&(0,s.jsx)(x,{message:a,type:"error",onClose:()=>c(null)})})]})}var g=t(8677);function u(){let[e,r]=(0,n.useState)([]),[t,i]=(0,n.useState)(!0),[h,x]=(0,n.useState)(null),[u,p]=(0,n.useState)(null),f=(0,d.useRouter)();(0,n.useEffect)(()=>{b()},[]);let b=async()=>{try{i(!0),x(null);let e=await fetch("/api/gallery"),t=await e.json();if(!e.ok)throw Error(t.message||"Failed to fetch artworks");let s=(t.artworks||[]).filter(e=>{var r,t;return(null==e?void 0:null===(t=e.drawingInstructions)||void 0===t?void 0:null===(r=t.elements)||void 0===r?void 0:r.length)>0});r(s)}catch(e){console.error("Error fetching artworks:",e),x(e.message),r([])}finally{i(!1)}};return h?(0,s.jsx)("div",{className:"min-h-screen bg-black p-4",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsx)("h1",{className:"text-green-500 font-mono text-2xl",children:"Gallery"}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(m,{}),(0,s.jsxs)("a",{href:g.WF.twitterLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-1.5 border border-green-500/30 text-green-500 hover:bg-green-500/10 transition-colors rounded font-mono",children:[(0,s.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,s.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),(0,s.jsx)("span",{className:"text-sm",children:"@IRISAISOLANA"})]}),(0,s.jsx)(a(),{href:"/",className:"px-4 py-2 border border-green-500/30 text-green-500 hover:bg-green-500/10 transition-colors rounded font-mono",children:"Back to Generator"})]})]}),(0,s.jsxs)("div",{className:"text-red-500 font-mono p-4 border border-red-500/30 rounded",children:["Error: ",h,(0,s.jsx)("button",{onClick:b,className:"ml-4 px-3 py-1 border border-green-500/30 text-green-500 hover:bg-green-500/10 transition-colors rounded text-sm",children:"Retry"})]})]})}):(0,s.jsxs)("main",{className:"min-h-screen bg-black p-4",children:[(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsx)("h1",{className:"text-green-500 font-mono text-2xl",children:"Gallery"}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(m,{}),(0,s.jsxs)("a",{href:g.WF.twitterLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-1.5 border border-green-500/30 text-green-500 hover:bg-green-500/10 transition-colors rounded font-mono",children:[(0,s.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,s.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),(0,s.jsx)("span",{className:"text-sm",children:"@IRISAISOLANA"})]}),(0,s.jsx)(a(),{href:"/",className:"px-4 py-2 border border-green-500/30 text-green-500 hover:bg-green-500/10 transition-colors rounded font-mono",children:"Back to Generator"})]})]}),t?(0,s.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,s.jsx)("div",{className:"text-green-500 animate-pulse",children:"Loading artworks..."})}):0===e.length?(0,s.jsx)("div",{className:"text-green-500/70 font-mono text-center p-8",children:"No artworks found. Check back soon!"}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(0,s.jsx)(l.N,{children:e.map(e=>{var r;return(0,s.jsx)(o.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},whileHover:{scale:1.02},transition:{duration:.2},className:"relative aspect-video cursor-pointer group",onClick:()=>f.push("/artwork/".concat(e.id)),children:(0,s.jsxs)("div",{className:"absolute inset-0 border border-green-500/30 group-hover:border-green-500 transition-all duration-300 rounded-lg overflow-hidden backdrop-blur-sm",children:[(0,s.jsx)("div",{className:"w-full h-full",children:(0,s.jsx)(c.A,{instructions:e.drawingInstructions,width:800,height:400})}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,s.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-4 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:[(0,s.jsxs)("p",{className:"text-green-500 font-mono text-sm mb-2",children:[null===(r=e.description)||void 0===r?void 0:r.substring(0,100),"..."]}),e.reflection&&(0,s.jsx)("p",{className:"text-green-500/70 font-mono text-xs line-clamp-2",children:e.reflection})]})]})},e.id)})})})]}),(0,s.jsx)(l.N,{children:u&&(0,s.jsx)(o.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 backdrop-blur-md z-50 flex items-center justify-center p-4",onClick:()=>p(null),children:(0,s.jsxs)(o.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative max-w-4xl w-full bg-black border border-green-500/30 rounded-lg overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("div",{className:"aspect-video",children:(0,s.jsx)(c.A,{instructions:u.drawingInstructions,width:1600,height:800})}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h3",{className:"text-green-500 font-mono text-lg mb-4",children:u.description}),(0,s.jsx)("p",{className:"text-green-500/70 font-mono text-sm",children:u.reflection})]})]})})})]})}},8677:(e,r,t)=>{"use strict";t.d(r,{WF:()=>s,k7:()=>n});let s={name:"IRIS",tagline:"Interactive Recursive Imagination System",twitterLink:"https://twitter.com/IRIA",version:"1.0.0"},n={width:800,height:400,background:"#000000"}}},e=>{var r=r=>e(e.s=r);e.O(0,[301,636,593,792],()=>r(9578)),_N_E=e.O()}]);