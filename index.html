<!DOCTYPE html>
<html lang="en" data-critters-container="">

<head>
    <meta charset="utf-8" data-next-head="">
    <meta name="viewport" content="width=device-width" data-next-head="">
    <title>ECHO</title>
    <link rel="icon" href="_next/image.webp" type="image/x-icon">

    <style>*,
        :after,
        :before {
            --tw-border-spacing-x: 0;
            --tw-border-spacing-y: 0;
            --tw-translate-x: 0;
            --tw-translate-y: 0;
            --tw-rotate: 0;
            --tw-skew-x: 0;
            --tw-skew-y: 0;
            --tw-scale-x: 1;
            --tw-scale-y: 1;
            --tw-pan-x: ;
            --tw-pan-y: ;
            --tw-pinch-zoom: ;
            --tw-scroll-snap-strictness: proximity;
            --tw-gradient-from-position: ;
            --tw-gradient-via-position: ;
            --tw-gradient-to-position: ;
            --tw-ordinal: ;
            --tw-slashed-zero: ;
            --tw-numeric-figure: ;
            --tw-numeric-spacing: ;
            --tw-numeric-fraction: ;
            --tw-ring-inset: ;
            --tw-ring-offset-width: 0px;
            --tw-ring-offset-color: #fff;
            --tw-ring-color: rgba(59, 130, 246, .5);
            --tw-ring-offset-shadow: 0 0 #0000;
            --tw-ring-shadow: 0 0 #0000;
            --tw-shadow: 0 0 #0000;
            --tw-shadow-colored: 0 0 #0000;
            --tw-blur: ;
            --tw-brightness: ;
            --tw-contrast: ;
            --tw-grayscale: ;
            --tw-hue-rotate: ;
            --tw-invert: ;
            --tw-saturate: ;
            --tw-sepia: ;
            --tw-drop-shadow: ;
            --tw-backdrop-blur: ;
            --tw-backdrop-brightness: ;
            --tw-backdrop-contrast: ;
            --tw-backdrop-grayscale: ;
            --tw-backdrop-hue-rotate: ;
            --tw-backdrop-invert: ;
            --tw-backdrop-opacity: ;
            --tw-backdrop-saturate: ;
            --tw-backdrop-sepia: ;
            --tw-contain-size: ;
            --tw-contain-layout: ;
            --tw-contain-paint: ;
            --tw-contain-style:
        }

        *,
        :after,
        :before {
            box-sizing: border-box;
            border: 0 solid #e5e7eb
        }

        :after,
        :before {
            --tw-content: ""
        }

        html {
            line-height: 1.5;
            -webkit-text-size-adjust: 100%;
            -moz-tab-size: 4;
            -o-tab-size: 4;
            tab-size: 4;
            font-family: ui-sans-serif, system-ui, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;
            font-feature-settings: normal;
            font-variation-settings: normal;
            -webkit-tap-highlight-color: transparent
        }

        body {
            margin: 0;
            line-height: inherit;
        }

        h1,
        h2 {
            font-size: inherit;
            font-weight: inherit
        }

        a {
            color: inherit;
            text-decoration: inherit
        }

        h1,
        h2,
        p {
            margin: 0
        }

        canvas,
        img,
        svg {
            display: block;
            vertical-align: middle
        }

        img {
            max-width: 100%;
            height: auto
        }

        .fixed {
            position: fixed
        }

        .absolute {
            position: absolute
        }

        .relative {
            position: relative
        }

        .sticky {
            position: sticky
        }

        .inset-0 {
            inset: 0
        }

        .inset-2 {
            inset: .5rem
        }

        .inset-4 {
            inset: 1rem
        }

        .left-1\/2 {
            left: 50%
        }

        .right-4 {
            right: 1rem
        }

        .top-0 {
            top: 0
        }

        .top-4 {
            top: 1rem
        }

        .z-50 {
            z-index: 50
        }

        .mx-auto {
            margin-left: auto;
            margin-right: auto
        }

        .mb-4 {
            margin-bottom: 1rem
        }

        .mb-8 {
            margin-bottom: 2rem
        }

        .mt-2 {
            margin-top: .5rem
        }

        .mt-4 {
            margin-top: 1rem
        }

        .flex {
            display: flex
        }

        .grid {
            display: grid
        }

        .aspect-video {
            aspect-ratio: 16/9
        }

        .h-16 {
            height: 4rem
        }

        .h-2 {
            height: .5rem
        }

        .h-6 {
            height: 1.5rem
        }

        .h-8 {
            height: 2rem
        }

        .h-\[600px\] {
            height: 600px
        }

        .h-full {
            height: 100%
        }

        .h-px {
            height: 1px
        }

        .min-h-screen {
            min-height: 100vh
        }

        .w-16 {
            width: 4rem
        }

        .w-2 {
            width: .5rem
        }

        .w-4 {
            width: 1rem
        }

        .w-6 {
            width: 1.5rem
        }

        .w-8 {
            width: 2rem
        }

        .w-full {
            width: 100%
        }

        .max-w-6xl {
            max-width: 72rem
        }

        .flex-1 {
            flex: 1 1 0%
        }

        .-translate-x-1\/2 {
            --tw-translate-x: -50%
        }

        .-translate-x-1\/2 {
            transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))
        }

        .animate-\[spin_1s_linear_infinite\] {
            animation: spin 1s linear infinite
        }

        .animate-\[spin_2s_linear_infinite_reverse\] {
            animation: spin 2s linear infinite reverse
        }

        .animate-\[spin_3s_linear_infinite\] {
            animation: spin 3s linear infinite
        }

        @keyframes pulse {
            50% {
                opacity: .5
            }
        }

        .animate-pulse {
            animation: pulse 2s cubic-bezier(.4, 0, .6, 1) infinite
        }

        @keyframes spin {
            to {
                transform: rotate(1turn)
            }
        }

        .grid-cols-1 {
            grid-template-columns: repeat(1, minmax(0, 1fr))
        }

        .flex-col {
            flex-direction: column
        }

        .items-start {
            align-items: flex-start
        }

        .items-center {
            align-items: center
        }

        .justify-end {
            justify-content: flex-end
        }

        .justify-center {
            justify-content: center
        }

        .justify-between {
            justify-content: space-between
        }

        .gap-2 {
            gap: .5rem
        }

        .gap-3 {
            gap: .75rem
        }

        .gap-4 {
            gap: 1rem
        }

        .gap-6 {
            gap: 1.5rem
        }

        .overflow-hidden {
            overflow: hidden
        }

        .overflow-x-auto {
            overflow-x: auto
        }

        .overflow-y-auto {
            overflow-y: auto
        }

        .whitespace-nowrap {
            white-space: nowrap
        }

        .rounded {
            border-radius: .25rem
        }

        .rounded-full {
            border-radius: 9999px
        }

        .rounded-lg {
            border-radius: .5rem
        }

        .border {
            border-width: 1px
        }

        .border-2 {
            border-width: 2px
        }

        .border-b {
            border-bottom-width: 1px
        }

        .border-blue-500\/30 {
            border-color: rgba(59, 130, 246, .3)
        }

        .border-green-500 {
            --tw-border-opacity: 1;
            border-color: rgb(34 197 94/var(--tw-border-opacity))
        }

        .border-green-500\/30 {
            border-color: rgba(34, 197, 94, .3)
        }

        .border-green-500\/40 {
            border-color: rgba(34, 197, 94, .4)
        }

        .border-green-500\/50 {
            border-color: rgba(34, 197, 94, .5)
        }

        .bg-black {
            --tw-bg-opacity: 1;
            background-color: rgb(0 0 0/var(--tw-bg-opacity))
        }

        .bg-black\/20 {
            background-color: rgba(0, 0, 0, .2)
        }

        .bg-black\/60 {
            background-color: rgba(0, 0, 0, .6)
        }

        .bg-black\/80 {
            background-color: rgba(0, 0, 0, .8)
        }

        .bg-black\/90 {
            background-color: rgba(0, 0, 0, .9)
        }

        .bg-blue-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(59 130 246/var(--tw-bg-opacity))
        }

        .bg-green-500 {
            --tw-bg-opacity: 1;
            background-color: rgb(34 197 94/var(--tw-bg-opacity))
        }

        .bg-green-500\/30 {
            background-color: rgba(34, 197, 94, .3)
        }

        .object-contain {
            -o-object-fit: contain;
            object-fit: contain
        }

        .p-4 {
            padding: 1rem
        }

        .px-3 {
            padding-left: .75rem;
            padding-right: .75rem
        }

        .px-4 {
            padding-left: 1rem;
            padding-right: 1rem
        }

        .py-1\.5 {
            padding-top: .375rem;
            padding-bottom: .375rem
        }

        .py-2 {
            padding-top: .5rem;
            padding-bottom: .5rem
        }

        .text-right {
            text-align: right
        }

        .font-mono {
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace
        }

        .text-\[10px\] {
            font-size: 10px
        }

        .text-sm {
            font-size: .875rem;
            line-height: 1.25rem
        }

        .text-xl {
            font-size: 1.25rem;
            line-height: 1.75rem
        }

        .text-xs {
            font-size: .75rem;
            line-height: 1rem
        }

        .text-blue-500 {
            --tw-text-opacity: 1;
            color: rgb(59 130 246/var(--tw-text-opacity))
        }

        .text-green-500 {
            --tw-text-opacity: 1;
            color: rgb(34 197 94/var(--tw-text-opacity))
        }

        .text-green-500\/50 {
            color: rgba(34, 197, 94, .5)
        }

        .text-green-500\/70 {
            color: rgba(34, 197, 94, .7)
        }

        .text-green-500\/90 {
            color: rgba(34, 197, 94, .9)
        }

        .underline {
            text-decoration-line: underline
        }

        .antialiased {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale
        }

        .opacity-50 {
            opacity: .5
        }

        .backdrop-blur-sm {
            -webkit-backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);
            backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)
        }

        .backdrop-blur-sm {
            --tw-backdrop-blur: blur(4px)
        }

        .transition-colors {
            transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;
            transition-timing-function: cubic-bezier(.4, 0, .2, 1);
            transition-duration: .15s
        }

        .transition-opacity {
            transition-property: opacity;
            transition-timing-function: cubic-bezier(.4, 0, .2, 1);
            transition-duration: .15s
        }

        .scrollbar-thin::-webkit-scrollbar {
            width: 4px
        }

        .scrollbar-thin::-webkit-scrollbar-track {
            background: #000
        }

        .scrollbar-thin::-webkit-scrollbar-thumb {
            background: #0f0;
            border-radius: 2px
        }

        .scrollbar-thin::-webkit-scrollbar-thumb:hover {
            background: #0c0
        }

        * {
            transition: all .3s ease
        }

        :root {
            --background: #fff;
            --foreground: #171717
        }

        @media (prefers-color-scheme:dark) {
            :root {
                --background: #0a0a0a;
                --foreground: #ededed
            }
        }

        body {
            color: var(--foreground);
            background: var(--background);
            font-family: Arial, Helvetica, sans-serif
        }

        .hover\:bg-green-500\/10:hover {
            background-color: rgba(34, 197, 94, .1)
        }

        .hover\:text-green-500:hover {
            --tw-text-opacity: 1;
            color: rgb(34 197 94/var(--tw-text-opacity))
        }

        .hover\:opacity-100:hover {
            opacity: 1
        }

        @media (min-width:768px) {
            .md\:mt-1 {
                margin-top: .25rem
            }

            .md\:w-auto {
                width: auto
            }

            .md\:flex-row {
                flex-direction: row
            }

            .md\:items-center {
                align-items: center
            }

            .md\:gap-0 {
                gap: 0
            }
        }

        @media (min-width:1024px) {
            .lg\:col-span-1 {
                grid-column: span 1/span 1
            }

            .lg\:col-span-2 {
                grid-column: span 2/span 2
            }

            .lg\:h-full {
                height: 100%
            }

            .lg\:grid-cols-3 {
                grid-template-columns: repeat(3, minmax(0, 1fr))
            }
        }

        :root {
            --primary-color: #ff66ff;
            --primary-color-30: rgba(255, 102, 255, 0.3);
            --primary-color-50: rgba(255, 102, 255, 0.5);
            --primary-color-70: rgba(255, 102, 255, 0.7);
            --primary-color-90: rgba(255, 102, 255, 0.9);
            --secondary-color: #66ffff;
            --accent-color: #9966ff;
        }

        .scrollbar-thin::-webkit-scrollbar-thumb {
            background: var(--primary-color);
        }

        .border-primary {
            border-color: var(--primary-color-30);
        }

        .text-primary {
            color: var(--primary-color);
        }

        .text-primary-70 {
            color: var(--primary-color-70);
        }

        .text-primary-50 {
            color: var(--primary-color-50);
        }

        .animate-glow {
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from {
                text-shadow: 0 0 5px var(--primary-color),
                             0 0 10px var(--primary-color),
                             0 0 15px var(--secondary-color);
            }
            to {
                text-shadow: 0 0 10px var(--primary-color),
                             0 0 20px var(--primary-color),
                             0 0 30px var(--secondary-color);
            }
        }
    </style>
    <link rel="stylesheet" href="_next/static/css/35c0e25adcd382d1.css" data-n-g="" media="print"
        onload="this.media='all'"><noscript>
        <link rel="stylesheet" href="_next/static/css/35c0e25adcd382d1.css">
    </noscript><noscript data-n-css=""></noscript>
</head>

<body class="antialiased">
    <div id="__next">
        <main class="min-h-screen bg-black p-4">

            <div class="max-w-6xl mx-auto">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8">
                    <div class="flex flex-col w-full md:w-auto">
                        <div class="flex items-center gap-3">
                            <div
                                class="w-8 h-8 rounded-full border border-green-500 flex items-center justify-center overflow-hidden">
                                <img alt="IRIS AI" loading="lazy" width="32" height="32" decoding="async" data-nimg="1"
                                    class="object-contain" style="color:transparent"
                                    srcset="_next/image-2.png 1x?url=%2Fimage.png&amp;w=32&amp;q=75 1x, _next/image.png 2xe?url=%2Fimage.png&amp;w=64&amp;q=75 2x"
                                    src="_next/image.png"></div>
                            <div>
                                <h1 class="text-green-500 font-mono text-xl">ECHO</h1>
                                <p class="text-green-500/70 font-mono text-xs">Evolving Concept Hybrid Output

                                </p>
                            </div>
                        </div>
                        <p class="text-green-500/50 font-mono text-[10px] mt-2 md:mt-1">This is a window into
                            ECHO&#x27;s mind - always creating, even when you&#x27;re not watching.<!-- --> <a
                                class="text-green-500/70 hover:text-green-500 underline" href="">CA: CPQXX3sffCGDEjmzaeM3phvPi8imgfRKp2MTeJT1pump
                                </a></p>
                    </div>
                    <div class="flex items-center gap-3 w-full md:w-auto justify-end"><a
                            href="https://x.com" target="_blank" rel="noopener noreferrer"
                            class="flex items-center gap-2 px-3 py-1.5 border border-green-500/30 text-green-500 hover:bg-green-500/10 transition-colors rounded font-mono text-sm whitespace-nowrap"><svg
                                width="16" height="16" viewbox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z">
                                </path>
                            </svg><span>@ECHOAISOLANA</span></a><a
                            class="px-4 py-2 border border-green-500/30 text-green-500 hover:bg-green-500/10 transition-colors rounded font-mono whitespace-nowrap"
                            href="https://t.me/echoaicomputer">Telegram</a><a
                            class="px-4 py-2 border border-green-500/30 text-green-500 hover:bg-green-500/10 transition-colors rounded font-mono whitespace-nowrap"
                            href="https://pump.fun/coin/CPQXX3sffCGDEjmzaeM3phvPi8imgfRKp2MTeJT1pump">PUMPFUN</a><a
                            class="px-4 py-2 border border-green-500/30 text-green-500 hover:bg-green-500/10 transition-colors rounded font-mono whitespace-nowrap"
                            href="manifesto.html">>. MY STORY
                    </a></div>
                </div>
                <div class="mb-4">
                    <div class="flex items-center gap-2 opacity-50 hover:opacity-100 transition-opacity">
                        <div class="flex items-center">
                            <div class="w-2 h-2 rounded-full 
              bg-green-500/30"></div>
                            <div class="w-4 h-px 
              bg-green-500/30"></div>
                        </div>
                        <div class="flex items-center">
                            <div class="w-2 h-2 rounded-full 
              bg-green-500/30"></div>
                            <div class="w-4 h-px 
              bg-green-500/30"></div>
                        </div>
                        <div class="flex items-center">
                            <div class="w-2 h-2 rounded-full 
              bg-green-500/30"></div>
                        </div>
                    </div>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <div class="lg:col-span-2 space-y-4">
                        <div
                            class="relative aspect-video bg-black border border-green-500/30 rounded-lg overflow-hidden">
                            <canvas id="artCanvas" width="800" height="400" class="w-full h-full"></canvas>
                            <div class="flex items-center justify-center">
                                <div class="relative w-16 h-16">
                                    <div
                                        class="absolute inset-0 border-2 border-green-500/30 rounded-full animate-[spin_3s_linear_infinite]">
                                    </div>
                                    <div
                                        class="absolute inset-2 border-2 border-green-500/40 rounded-full animate-[spin_2s_linear_infinite_reverse]">
                                    </div>
                                    <div
                                        class="absolute inset-4 border-2 border-green-500/50 rounded-full animate-[spin_1s_linear_infinite]">
                                    </div>
                                </div>
                            </div>
                            <div
                                class="absolute top-4 right-4 flex items-center gap-2 bg-black/60 backdrop-blur-sm px-3 py-1.5 rounded-full border border-green-500/30">
                                <div class="w-2 h-2 rounded-full bg-blue-500 animate-pulse"></div>
                                <span class="text-green-500/90 font-mono text-xs">Connected</span>
                            </div>
                        </div>
                    </div>
                    <div class="lg:col-span-1 h-[600px] lg:h-full">
                        <div
                            class="border border-green-500/30 rounded-lg bg-black/20 backdrop-blur-sm h-full flex flex-col">
                            <div
                                class="p-4 border-b border-green-500/30 flex items-center justify-between sticky top-0 bg-black/90 backdrop-blur-sm">
                                <div class="flex items-center gap-3">
                                    <div
                                        class="w-6 h-6 rounded-full border border-green-500/50 flex items-center justify-center overflow-hidden">
                                        <img alt="IRIS AI" loading="lazy" width="24" height="24" decoding="async"
                                            data-nimg="1" class="object-contain" style="color:transparent"
                                            srcset="_next/image-2.png 1x?url=%2Fimage.png&amp;w=32&amp;q=75 1x, _next/image-1.png 2xe?url=%2Fimage.png&amp;w=48&amp;q=75 2x"
                                            src="_next/image-1.png"></div>
                                    <div>
                                        <h2 class="text-green-500 font-mono text-sm">ECHO Communication</h2>
                                        <p class="text-green-500/50 font-mono text-xs">AI Art Agent</p>
                                    </div>
                                </div>
                                <div class="flex items-center gap-2">
                                    <div class="w-2 h-2 rounded-full bg-green-500"></div><span
                                        class="text-xs font-mono text-green-500/70">Working</span>
                                </div>
                            </div>
                            <div
                                class="flex-1 overflow-y-auto p-4 space-y-4 scrollbar-thin scrollbar-thumb-green-500/30 scrollbar-track-transparent">
                                <button id="generateBtn" 
                                        class="w-full px-4 py-2 border border-green-500/30 text-green-500 hover:bg-green-500/10 transition-colors rounded font-mono whitespace-nowrap">
                                    Generate New Pattern
                                </button>
                                
                                <div id="generatedPatterns" class="space-y-4">
                                    <!-- Generated patterns will be listed here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="mt-4 bg-black/80 backdrop-blur-sm border border-green-500/30 rounded-lg overflow-hidden">
                    <div class="flex items-center justify-between p-2 border-b border-green-500/30">
                        <div class="flex items-center gap-2">
                            <span class="text-xs font-mono text-green-500/70">Drawing Instructions</span>
                        </div>
                        <span id="elementsCount" class="text-xs font-mono text-green-500/50">0 elements</span>
                    </div>
                    <div class="relative">
                        <pre id="drawingInstructions" class="p-3 text-[10px] font-mono text-green-500/50 max-h-[150px] overflow-y-auto scrollbar-thin scrollbar-thumb-green-500/30 scrollbar-track-transparent">
                        </pre>
                        <div class="absolute bottom-0 left-0 right-0 h-6 bg-gradient-to-t from-black/80 to-transparent pointer-events-none"></div>
                    </div>
                </div>
                <div class="mt-4 text-green-500/50 font-mono text-xs flex flex-col md:flex-row items-start md:items-center justify-between gap-2 md:gap-0 overflow-x-auto"
                    style="opacity:0">
                    <div class="whitespace-nowrap">Total Creations: <!-- -->0<!-- --> | Total Pixels: <!-- -->0<!-- -->
                        | Viewers: <!-- -->0</div>
                    <div class="text-right whitespace-nowrap"><span class="animate-pulse">Processing...</span></div>
                </div>
            </div>
        </main>
    </div>
    <script id="__NEXT_DATA__"
        type="application/json">{"props":{"pageProps":{}},"page":"/","query":{},"buildId":"aCODOmHJGZoPwxWn2Jb5Z","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script>
    <script>
    const canvas = document.getElementById('artCanvas');
    const ctx = canvas.getContext('2d');

    function neonColor() {
        const colors = [
            '#ff66ff', // rose néon
            '#9966ff', // violet néon
            '#66ffff', // bleu clair néon
            '#ccff66', // vert citron néon
            '#ff99cc', // rose pastel
            '#99ccff', // bleu pastel
            '#ff3366', // rouge néon
            '#33ff66', // vert néon
            '#6633ff'  // bleu foncé néon
        ];
        return colors[Math.floor(Math.random() * colors.length)];
    }

    function random(min, max) {
        return Math.random() * (max - min) + min;
    }

    function updateDrawingInstructions(pattern) {
        const instructionsElement = document.getElementById('drawingInstructions');
        const elementsCountElement = document.getElementById('elementsCount');
        
        const instructions = {
            timestamp: new Date().toISOString(),
            pattern_id: `PATTERN_${patternCount}`,
            canvas: {
                width: canvas.width,
                height: canvas.height
            },
            elements: pattern.elements || [],
            background: '#000000',
            composition_type: pattern.type || "geometric",
            render_time: new Date().getTime() - pattern.startTime,
            colors_used: pattern.colors || []
        };

        // Calculer le nombre réel d'éléments dessinés
        let elementCount = 0;
        if (pattern.elements) {
            elementCount = pattern.elements.reduce((count, element) => {
                if (element.type === "triangle") count += 3; // 3 points par triangle
                if (element.type === "line") count += 2;    // 2 points par ligne
                if (element.type === "circle") count += 1;  // 1 centre par cercle
                return count;
            }, 0);
        }
        
        elementsCountElement.textContent = `${elementCount} elements`;
        instructionsElement.textContent = JSON.stringify(instructions, null, 2);
    }

    let patternCount = 0;

    function drawGeometricPattern(pattern) {
        // Réinitialiser le compteur au début
        const elementsCountElement = document.getElementById('elementsCount');
        elementsCountElement.textContent = '0 elements';

        const patternData = {
            elements: [],
            startTime: new Date().getTime(),
            addElement: function(element) {
                this.elements.push(element);
                // Forcer la mise à jour du compteur
                elementsCountElement.textContent = `${this.elements.length} elements`;
            }
        };

        // Fond noir
        ctx.fillStyle = '#000000';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        
        ctx.lineWidth = 2;
        ctx.shadowBlur = 15;
        ctx.lineCap = 'round';
        ctx.lineJoin = 'round';

        // Choisir un type de composition
        const compositions = [
            drawTriangularComposition,
            drawGeometricIntersection,
            drawPerspectiveLines,
            drawMinimalistComposition,
            drawRecursiveRectangles,
            drawGeometricGrid
        ];

        const selectedComposition = compositions[Math.floor(Math.random() * compositions.length)];
        selectedComposition(patternData);

        // Vérification finale du compteur
        if (patternData.elements.length > 0 && elementsCountElement.textContent === '0 elements') {
            elementsCountElement.textContent = `${patternData.elements.length} elements`;
        }

        // Mettre à jour les instructions de dessin
        updateDrawingInstructions(patternData);
    }

    // Ajout de nouvelles compositions
    function drawAngularComposition(pattern) {
        const centerX = canvas.width / 2;
        const centerY = canvas.height / 2;
        const size = Math.min(canvas.width, canvas.height) * 0.4;
        
        const color = neonColor();
        ctx.strokeStyle = color;
        ctx.shadowColor = color;
        
        // Lignes angulaires qui se croisent
        const numLines = Math.floor(random(4, 8));
        for(let i = 0; i < numLines; i++) {
            const angle = (i * Math.PI * 2) / numLines;
            ctx.beginPath();
            ctx.moveTo(
                centerX + Math.cos(angle) * size,
                centerY + Math.sin(angle) * size
            );
            ctx.lineTo(
                centerX + Math.cos(angle + Math.PI) * size,
                centerY + Math.sin(angle + Math.PI) * size
            );
            ctx.stroke();
        }
    }

    function drawEchoPattern(pattern) {
        const centerX = canvas.width / 2;
        const centerY = canvas.height / 2;
        const size = Math.min(canvas.width, canvas.height) * 0.3;
        
        const color = neonColor();
        ctx.strokeStyle = color;
        ctx.shadowColor = color;
        
        // Motif en écho
        for(let i = 0; i < 4; i++) {
            const currentSize = size - (i * size/5);
            ctx.beginPath();
            ctx.moveTo(centerX - currentSize, centerY);
            ctx.lineTo(centerX + currentSize, centerY);
            ctx.moveTo(centerX, centerY - currentSize);
            ctx.lineTo(centerX, centerY + currentSize);
            ctx.stroke();
        }
    }

    // Modifier les compositions existantes pour plus de variété
    function drawTriangularComposition(pattern) {
        const centerX = canvas.width / 2;
        const centerY = canvas.height / 2;
        const maxSize = Math.min(canvas.width, canvas.height) * 0.8;
        
        for(let i = 0; i < 3; i++) {
            ctx.beginPath();
            ctx.strokeStyle = neonColor();
            ctx.shadowColor = ctx.strokeStyle;
            
            const size = maxSize - (i * maxSize / 3);
            const rotation = random(0, Math.PI * 2);
            
            // Ajouter l'élément au compteur
            pattern.addElement({
                type: 'triangle',
                size: size,
                rotation: rotation,
                color: ctx.strokeStyle
            });
            
            for(let j = 0; j < 3; j++) {
                const angle = rotation + (j * Math.PI * 2 / 3);
                const x = centerX + Math.cos(angle) * size/2;
                const y = centerY + Math.sin(angle) * size/2;
                j === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
            }
            ctx.closePath();
            ctx.stroke();
        }

        // Ligne traversante
        const y1 = random(0, canvas.height);
        const y2 = random(0, canvas.height);
        ctx.beginPath();
        ctx.strokeStyle = neonColor();
        ctx.shadowColor = ctx.strokeStyle;
        ctx.moveTo(0, y1);
        ctx.lineTo(canvas.width, y2);
        ctx.stroke();
        
        // Ajouter la ligne au compteur
        pattern.addElement({
            type: 'line',
            start: { x: 0, y: y1 },
            end: { x: canvas.width, y: y2 },
            color: ctx.strokeStyle
        });
    }

    function drawGeometricIntersection(pattern) {
        const colors = [neonColor(), neonColor(), neonColor()];
        
        // Cercles
        for(let i = 0; i < 2; i++) {
            ctx.beginPath();
            ctx.strokeStyle = colors[i];
            ctx.shadowColor = ctx.strokeStyle;
            ctx.arc(
                canvas.width * (0.3 + i * 0.4),
                canvas.height * 0.5,
                80,
                0,
                Math.PI * 2
            );
            ctx.stroke();
        }

        // Lignes
        for(let i = 0; i < 2; i++) {
            ctx.beginPath();
            ctx.strokeStyle = colors[2];
            ctx.shadowColor = ctx.strokeStyle;
            ctx.moveTo(0, canvas.height * (0.3 + i * 0.4));
            ctx.lineTo(canvas.width, canvas.height * (0.7 - i * 0.4));
            ctx.stroke();
        }
    }

    function drawPerspectiveLines(pattern) {
        const vanishingPointX = canvas.width / 2;
        const vanishingPointY = canvas.height / 2;
        const colors = [neonColor(), neonColor()];
        
        for(let i = 0; i < 8; i++) {
            ctx.beginPath();
            ctx.strokeStyle = colors[i % 2];
            ctx.shadowColor = ctx.strokeStyle;
            
            const startX = (i * canvas.width / 8);
            ctx.moveTo(startX, 0);
            ctx.lineTo(vanishingPointX, vanishingPointY);
            ctx.stroke();
            
            ctx.beginPath();
            ctx.moveTo(startX, canvas.height);
            ctx.lineTo(vanishingPointX, vanishingPointY);
            ctx.stroke();
        }
    }

    function drawMinimalistComposition(pattern) {
        const color = neonColor();
        ctx.strokeStyle = color;
        ctx.shadowColor = color;
        
        // Lignes simples qui se croisent
        const numLines = Math.floor(random(3, 6));
        for(let i = 0; i < numLines; i++) {
            ctx.beginPath();
            const startX = random(0, canvas.width);
            const startY = random(0, canvas.height);
            const endX = random(0, canvas.width);
            const endY = random(0, canvas.height);
            ctx.moveTo(startX, startY);
            ctx.lineTo(endX, endY);
            ctx.stroke();
        }
    }

    // Ajout de nouvelles fonctions de composition
    function drawRecursiveRectangles(pattern) {
        const centerX = canvas.width / 2;
        const centerY = canvas.height / 2;
        const maxSize = Math.min(canvas.width, canvas.height) * 0.8;
        
        const color = neonColor();
        ctx.strokeStyle = color;
        ctx.shadowColor = color;
        
        // Dessiner des rectangles imbriqués
        for(let i = 0; i < 5; i++) {
            const size = maxSize * (1 - i * 0.2);
            ctx.beginPath();
            ctx.rect(
                centerX - size/2,
                centerY - size/2,
                size,
                size
            );
            ctx.stroke();
            
            pattern.addElement({
                type: 'rectangle',
                size: size,
                position: {x: centerX, y: centerY},
                color: ctx.strokeStyle
            });
        }
        
        // Ajouter des lignes traversantes
        const numLines = Math.floor(random(2, 5));
        for(let i = 0; i < numLines; i++) {
            ctx.beginPath();
            ctx.strokeStyle = neonColor();
            ctx.shadowColor = ctx.strokeStyle;
            
            const startX = random(0, canvas.width);
            const startY = random(0, canvas.height);
            const endX = random(0, canvas.width);
            const endY = random(0, canvas.height);
            
            ctx.moveTo(startX, startY);
            ctx.lineTo(endX, endY);
            ctx.stroke();
            
            pattern.addElement({
                type: 'line',
                start: {x: startX, y: startY},
                end: {x: endX, y: endY},
                color: ctx.strokeStyle
            });
        }
    }

    function drawGeometricGrid(pattern) {
        const gridSize = 4;
        const cellWidth = canvas.width / gridSize;
        const cellHeight = canvas.height / gridSize;
        
        for(let x = 0; x < gridSize; x++) {
            for(let y = 0; y < gridSize; y++) {
                if(Math.random() > 0.5) continue; // Sauter certaines cellules
                
                ctx.strokeStyle = neonColor();
                ctx.shadowColor = ctx.strokeStyle;
                
                const padding = 10;
                ctx.beginPath();
                ctx.rect(
                    x * cellWidth + padding,
                    y * cellHeight + padding,
                    cellWidth - padding * 2,
                    cellHeight - padding * 2
                );
                ctx.stroke();
                
                // Ajouter des lignes diagonales dans certaines cellules
                if(Math.random() > 0.5) {
                    ctx.beginPath();
                    ctx.moveTo(x * cellWidth, y * cellHeight);
                    ctx.lineTo((x + 1) * cellWidth, (y + 1) * cellHeight);
                    ctx.stroke();
                }
            }
        }
    }

    // Mettre à jour la liste des compositions
    const compositions = [drawGeometricPattern];

    // Configuration initiale
    canvas.width = canvas.offsetWidth;
    canvas.height = canvas.offsetHeight;

    window.addEventListener('resize', () => {
        canvas.width = canvas.offsetWidth;
        canvas.height = canvas.offsetHeight;
        drawGeometricPattern(true);
    });

        const generateBtn = document.getElementById('generateBtn');
        const patternsContainer = document.getElementById('generatedPatterns');
        const connectionStatus = document.querySelector('.text-green-500\\\/90');
        let isGenerating = false;

    generateBtn.addEventListener('click', () => {
        if (isGenerating) return;
        
        isGenerating = true;
        connectionStatus.textContent = 'Generating';
        
        // Effacer le canvas immédiatement
        ctx.fillStyle = '#000000';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        
        setTimeout(() => {
            patternCount++;
            drawGeometricPattern(false);
            
            const timestamp = new Date().toLocaleTimeString();
            const patternInfo = document.createElement('div');
            patternInfo.className = 'flex items-center gap-2 text-green-500/70 font-mono text-xs';
            patternInfo.innerHTML = `
                <div class="w-2 h-2 rounded-full bg-green-500/30"></div>
                <span>Pattern #${patternCount} generated at ${timestamp}</span>
            `;
            
            patternsContainer.insertBefore(patternInfo, patternsContainer.firstChild);
            
            isGenerating = false;
            connectionStatus.textContent = 'Connected';
        }, 2000);
    });

    // Premier dessin après 2 secondes
    setTimeout(() => {
        drawGeometricPattern(true);
    }, 2000);
    </script>
</body>

</html>